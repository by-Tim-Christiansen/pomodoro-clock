var c=$("#circle");c.circleProgress({startAngle:-Math.PI/4*2,value:1,size:160,fill:{color:"#E74C3C"},animation:{duration:1e3,easing:"circleProgressEasing"}}),$(document).ready(function(){function e(){document.getElementById("audio1").play()}function t(t){"initialized"==l.getStatus()||"stopped"==l.getStatus()?(c.circleProgress({animationStartValue:1,value:0,animation:{duration:1e3,easing:"circleProgressEasing"}}),p=60*t,l.on("ontick",function(){var e=l.getDuration(),t=Math.floor(e/6e4),a=(e%6e4/1e3).toFixed(0);(a<10?"0":"")+a=="60"?$(".timeDigital").text(t+1+":00"):$(".timeDigital").text(t+":"+(a<10?"0":"")+a)}),l.on("onstart",function(){c.circleProgress({animationStartValue:0,value:1,animation:{duration:l.getDuration(),easing:"linear"}})}),setTimeout(function(){l.start(p).on("end",function(){$("#play").removeClass("hide"),$("#pause").addClass("hide"),d?(m="Work Session is over",k="You've worked enough, time for a break!",u+=1,$(".start").text("Start Break"),u%4==0&&$(".start").text("Start Long Break"),$(".pop-up-header").text("Work session done!"),$(".eight_circles div:nth-of-type("+u+")").addClass("active"),$(".alt-opt").css("display","inline"),$("#break-popup").removeClass("hide")):(m="Your break is over",k="Time to get back to work!",$(".start").text("Go!"),$(".pop-up-header").text("Break is over, let's get back to work!"),$(".alt-opt").css("display","none"),$("#break-popup").removeClass("hide")),Push.create(m,{body:k,icon:"timer.png",timeout:2e4,tag:"notification",onClick:function(){window.focus(),this.close()}}),e()})},1e3)):"started"==l.getStatus()?(l.pause(),$(c.circleProgress("widget")).stop()):(l.start(),c.circleProgress({animationStartValue:1-l.getDuration()/(1e3*p),value:1,animation:{duration:l.getDuration(),easing:"linear"}}))}function a(e){if(e>=1&&e<=60)return!0}function i(e,t){$("body").removeClass().addClass(e),$(".active").css("background-color",t),c.circleProgress({fill:{color:t},animation:!1})}var s={symbols:{utf8_star:{base:"&#9734;",hover:"&#9733;",selected:"&#9733;"}},max_value:5,step_size:1};$(".rating").rate(s),$(".rating").on("change",function(){$("#rating-field").attr("value",$(".rating").rate("getValue"))}),!0!==Push.Permission.has()&&Push.Permission.request();var o=25,n=5,r=15,l=new Timer,u=0,g="#E74C3C",d=!0,p,m="",k="";$(".play-pause").click(function(){"initialized"!=l.getStatus()&&"stopped"!=l.getStatus()||($(".play-pause").css("pointer-events","none"),setTimeout(function(){$(".play-pause").css("pointer-events","auto")},1e3)),t(o)}),$(".reset").click(function(){"initialized"!==l.getStatus()&&(c.circleProgress({animationStartValue:1-l.getDuration()/(1e3*p),value:1,animation:{duration:1e3,easing:"circleProgressEasing"}}),l.stop(),$("#play").removeClass("hide"),$("#pause").addClass("hide"),d?$(".timeDigital").text(o+":00"):$(".timeDigital").text(n+":00"))}),$(".play-pause").click(function(){$("#play, #pause").toggleClass("hide")}),$(".start").click(function(){"Start Break"==$(".start").html()?($(".timeDigital").text(n+":00"),t(n),d=!1):($(".timeDigital").text(o+":00"),t(o),d=!0),$("#break-popup").addClass("hide"),$("#pause").removeClass("hide"),$("#play").addClass("hide")}),$(".next").click(function(){$(".timeDigital").text(o+":00"),t(o),d=!0,$("#break-popup").addClass("hide"),$("#pause").removeClass("hide"),$("#play").addClass("hide")}),$(".num").click(function(){switch($(this).attr("class")){case"num session-":a(o-1)&&(o-=1,$(".session").text(o),$(".timeDigital").text(o+":00"));break;case"num session+":a(o+1)&&(o+=1,$(".session").text(o),$(".timeDigital").text(o+":00"));break;case"num break-":a(n-1)&&(n-=1,$(".break").text(n),0==d&&$(".timeDigital").text(n+":00"));break;case"num break+":a(n+1)&&(n+=1,$(".break").text(n),0==d&&$(".timeDigital").text(n+":00"));break;case"num longbreak-":a(r-1)&&(r-=1,$(".longbreak").text(r),totalSession>0&&u%4==0&&$(".timeDigital").text(r+":00"));break;case"num longbreak+":a(r+1)&&(r+=1,$(".longbreak").text(r),totalSession>0&&u%4==0&&$(".timeDigital").text(r+":00"));break}}),$(".cpicker").click(function(){switch($(this).attr("class")){case"total g cpicker":i("g","#2ECC71");break;case"total o cpicker":i("o","#E67E22");break;case"total b cpicker":i("b","#3498DB");break;case"total r cpicker":i("r","#E74C3C");break}}),$(".options").click(function(){$(".settingspage").hasClass("hide")?$(".settingspage").removeClass("hide"):$(".settingspage").addClass("hide")})});